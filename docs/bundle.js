(()=>{var m=(t,a,s)=>new Promise((l,o)=>{var n=r=>{try{e(s.next(r))}catch(i){o(i)}},c=r=>{try{e(s.throw(r))}catch(i){o(i)}},e=r=>r.done?l(r.value):Promise.resolve(r.value).then(n,c);e((s=s.apply(t,a)).next())});function f(){let a="FILTER_QUOTES-V2-theme",s=document.querySelector(".theme-toggler"),l=s.querySelector(".light .visually-hidden"),o=s.querySelector(".dark .visually-hidden"),n=s.querySelector("button");function c(){try{let u=localStorage.getItem(a);return u?JSON.parse(u):!1}catch(u){return console.error("Error parsing theme from localStorage:",u),!1}}let e=c();function r(u){e=u,document.documentElement.classList.toggle("darkmode",e),localStorage.setItem(a,e),d()}function i(){r(!e)}function d(){l.textContent=e?" theme active":" theme inactive",o.textContent=e?" theme inactive":" theme active",n.setAttribute("aria-pressed",e?"false":"true")}n.addEventListener("click",i),r(e)}function h(){window.addEventListener("load",()=>{let t=document.getElementById("loader"),a=document.getElementById("page-loaded");t.classList.add("loader-hidden"),t.addEventListener("transitionend",()=>{t.remove(),a.textContent="Page has loaded.",a.setAttribute("aria-hidden","false")})})}function y(){document.querySelectorAll("details").forEach(t=>{let a=t.querySelector("summary");a.setAttribute("aria-expanded",t.open?"true":"false"),t.addEventListener("toggle",()=>{a.setAttribute("aria-expanded",t.open?"true":"false")}),t.addEventListener("keydown",s=>{s.key==="Escape"&&t.open&&(t.removeAttribute("open"),a.setAttribute("aria-expanded","false"),a.focus())})})}function q(){let t=document.querySelector("html"),a=document.querySelector(".header");new ResizeObserver(l=>{for(let o of l){let n=getComputedStyle(o.target),c=getComputedStyle(t),e=parseFloat(n.paddingBlockStart),r=parseFloat(n.paddingBlockEnd),i=e+r,d=parseFloat(c.getPropertyValue("--skip-link-gap"))||0,u=i+d,p=(o.contentRect.height+u)/16;t.style=`scroll-padding-top: ${p}rem`}}).observe(a)}var x="./json/quotes.json",A=document.getElementById("fail"),L=document.getElementById("quotes-list"),C=document.getElementById("quote-template");function E(){return m(this,null,function*(){try{let t=yield fetch(x);if(t.ok){(yield t.json()).forEach(o=>{let n=C.content.cloneNode(!0),c=n.querySelector(".quote-container"),e=n.querySelector("[data-prequote]"),r=n.querySelector("[data-quote]"),i=n.querySelector("[data-postquote]"),d=n.querySelector("[data-author]"),u=n.querySelector("#tags"),p=n.querySelector("[data-tags]"),v=[...o.tags];e.textContent=o.prequote.trim(),r.textContent=o.quote.trim(),i.textContent=o.postquote.trim(),o.author===""?d.textContent="Unknown":d.textContent=o.author.trim(),v.length===0?u.classList.add("hide"):v.forEach(b=>{let g=document.createElement("button");g.setAttribute("type","button"),g.textContent=b.trim(),p.append(g)}),L.append(c)});let s=document.querySelectorAll(".quote button"),l={};s.forEach(o=>{let n=o.textContent.trim();l[n]=(l[n]||0)+1}),s.forEach(o=>{let n=o.textContent.trim();l[n]===1&&o.setAttribute("disabled","")})}else A.textContent="Something went wrong. Please try again later..."}catch(t){console.log(t)}})}function S(){let t=document.getElementById("clear-filters"),a=document.querySelectorAll(".quote"),s=document.querySelectorAll(".quote button, .tag-cloud button"),l=null;s.forEach(c=>{c.addEventListener("click",e=>{let r=e.target.textContent.trim();if(l===r){l=null,o();return}l=r,n(r)})}),t.addEventListener("click",()=>{l=null,o()});function o(){a.forEach(c=>c.removeAttribute("hidden")),s.forEach(c=>c.classList.remove("active")),t.classList.remove("active"),t.setAttribute("disabled","")}function n(c){a.forEach(e=>{let i=[...e.querySelectorAll("button")].some(d=>d.textContent.trim()===c);e.toggleAttribute("hidden",!i)}),s.forEach(e=>{e.classList.toggle("active",e.textContent.trim()===c)}),t.classList.add("active"),t.removeAttribute("disabled")}}f();h();y();q();function k(){return m(this,null,function*(){yield E(),S()})}k();})();
