(()=>{var m=(t,r,o)=>new Promise((a,c)=>{var u=n=>{try{e(o.next(n))}catch(i){c(i)}},s=n=>{try{e(o.throw(n))}catch(i){c(i)}},e=n=>n.done?a(n.value):Promise.resolve(n.value).then(u,s);e((o=o.apply(t,r)).next())});function h(){let r="FILTER_QUOTES-V2-theme",o=document.querySelector(".theme-toggler"),a=o.querySelector(".light .visually-hidden"),c=o.querySelector(".dark .visually-hidden"),u=o.querySelector("button");function s(){try{let l=localStorage.getItem(r);return l?JSON.parse(l):!1}catch(l){return console.error("Error parsing theme from localStorage:",l),!1}}let e=s();function n(l){e=l,document.documentElement.classList.toggle("darkmode",e),localStorage.setItem(r,e),d()}function i(){n(!e)}function d(){a.textContent=e?" theme active":" theme inactive",c.textContent=e?" theme inactive":" theme active",u.setAttribute("aria-pressed",e?"false":"true")}u.addEventListener("click",i),n(e)}function g(){window.addEventListener("load",()=>{let t=document.getElementById("loader"),r=document.getElementById("page-loaded");t.classList.add("loader-hidden"),t.addEventListener("transitionend",()=>{t.remove(),r.textContent="Page has loaded.",r.setAttribute("aria-hidden","false")})})}function p(){document.querySelectorAll("details").forEach(t=>{let r=t.querySelector("summary");r.setAttribute("aria-expanded",t.open?"true":"false"),t.addEventListener("toggle",()=>{r.setAttribute("aria-expanded",t.open?"true":"false")}),t.addEventListener("keydown",o=>{o.key==="Escape"&&t.open&&(t.removeAttribute("open"),r.setAttribute("aria-expanded","false"),r.focus())})})}var S="./json/quotes.json",v=document.getElementById("fail"),L=document.getElementById("quotes-list"),x=document.getElementById("quote-template");function q(){return m(this,null,function*(){try{let t=yield fetch(S);t.ok?(yield t.json()).forEach(o=>{let a=x.content.cloneNode(!0),c=a.querySelector(".quote-container"),u=a.querySelector("[data-prequote]"),s=a.querySelector("[data-quote]"),e=a.querySelector("[data-postquote]"),n=a.querySelector("[data-author]"),i=a.querySelector("#tags"),d=a.querySelector("[data-tags]"),l=[...o.tags];u.textContent=o.prequote.trim(),s.textContent=o.quote.trim(),e.textContent=o.postquote.trim(),o.author===""?n.textContent="Unknown":n.textContent=o.author.trim(),l.length===0?i.classList.add("hide"):l.forEach(E=>{let f=document.createElement("button");f.setAttribute("type","button"),f.textContent=E.trim(),d.append(f)}),L.append(c)}):v.textContent="Something went wrong. Please try again later..."}catch(t){console.log(t)}})}function y(){let t=document.getElementById("clear-filters"),r=document.querySelectorAll(".quote"),o=document.querySelectorAll(".quote button"),a=null;o.forEach(s=>{s.addEventListener("click",e=>{let n=e.target.textContent.trim();if(a===n){a=null,c();return}a=n,u(n)})}),t.addEventListener("click",()=>{a=null,c()});function c(){r.forEach(s=>s.removeAttribute("hidden")),o.forEach(s=>s.classList.remove("active")),t.classList.remove("active"),t.setAttribute("disabled","")}function u(s){r.forEach(e=>{let i=[...e.querySelectorAll("button")].some(d=>d.textContent.trim()===s);e.toggleAttribute("hidden",!i)}),o.forEach(e=>{e.classList.toggle("active",e.textContent.trim()===s)}),t.classList.add("active"),t.removeAttribute("disabled")}}h();g();p();function A(){return m(this,null,function*(){yield q(),y()})}A();})();
